{"version":3,"names":["React","NDKSessionContext","useNDK","NDKEvent","NDKKind","NDKSubscriptionCacheUsage","useEffect","useSessionStore","NDKCashuWallet","NDKNutzapMonitor","NDKNWCWallet","useWalletStore","jsx","_jsx","NDKSessionProvider","children","opts","ndk","currentUser","setFollows","setMuteList","addEvent","walletStore","sub","knownEventIds","Set","followEvent","balances","state","setBalances","setNutzapMonitor","processFollowEvent","event","relay","created_at","pubkeys","tags","filter","tag","map","Array","from","processMuteListEvent","processCashuWalletEvent","CashuWallet","handleEvent","has","id","add","kind","MuteList","entry","kinds","get","wrapper","setActiveWallet","wallet","save","updateBalance","console","log","balance","on","start","cacheUsage","ONLY_RELAY","monitor","addWallet","zap","rawEvent","settingsStore","persistWalletConfiguration","stop","filters","push","authors","pubkey","follows","muteList","keys","loadWallet","length","subscribe","closeOnEose","undefined","Provider","value","events","mutePubkey","walletPayload","pairingCode","delete","payload","alert","type","set","JSON","stringify","walletConfig","loadNWCWallet","initWithPairingCode","then","loadNIP60Wallet","relaySet","freshEvent","fetchEvent","encode","hasTag","e","error","parse"],"sourceRoot":"../../../../src","sources":["providers/session/index.tsx"],"mappings":"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","ignoreList":[]}
